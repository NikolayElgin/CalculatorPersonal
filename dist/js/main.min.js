!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=document.getElementById("start"),s=document.getElementById("cancel"),l=document.getElementsByTagName("button")[0],u=document.getElementsByTagName("button")[1],a=document.querySelector("#deposit-check"),c=document.querySelector(".deposit-amount"),r=document.querySelector(".deposit-percent"),d=document.querySelector(".deposit-bank"),h=document.querySelectorAll(".additional_income-item"),p=document.querySelector(".additional_expenses-item"),y=document.querySelectorAll(".result-total"),m=y[0],f=y[1],v=y[2],g=y[3],b=y[4],x=y[5],k=y[6],E=document.querySelector(".salary-amount"),S=document.querySelectorAll(".income-items"),M=(document.querySelectorAll(".income-title")[1],document.querySelector(".income-amount"),document.querySelectorAll(".expenses-title")[1],document.querySelector(".expenses-amount"),document.querySelectorAll(".expenses-items")),q=document.querySelector(".target-amount"),A=document.querySelector(".period-select"),I=document.querySelectorAll(".period"),B=document.querySelectorAll(".period-amount"),D=document.createElement("div");I[0].removeChild(B[0]);var L=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.income={},this.incomeMonth=0,this.addIncome=[],this.expenses={},this.addExpenses=[],this.deposit=!1,this.percentDeposit=0,this.moneyDeposit=0,this.budget=0,this.budgetDay=0,this.budgetMonth=0,this.expensesMonth=0}var t,n,y;return t=e,(n=[{key:"start",value:function(){""!==E.value?(this.budget=+E.value,this.getExpInc(),this.getAddExpenses(),this.getAddIncome(),this.getExpensesMonth(),this.getInfoDeposit(),this.getBudget(),this.calcPeriod(),this.getSelectPeriod(),this.showResult(),this.getBlock()):i.setAttribute("disabled","true")}},{key:"getBlock",value:function(){document.querySelectorAll(".data input[type = text]").forEach((function(e){e.readOnly=!0})),a.disabled=!0,d.disabled=!0,f.setAttribute("disabled","true"),l.disabled=!0,u.disabled=!0,i.style.display="none",s.style.display="block"}},{key:"showResult",value:function(){m.value=this.budgetMonth,f.value=this.budgetDay,v.value=this.expensesMonth,b.value=this.addExpenses.join(", "),g.value=this.addIncome.join(", "),k.value=this.getTargetMonth()}},{key:"addExpensesBlock",value:function(){var e=M[0].cloneNode(!0);M[0].parentNode.insertBefore(e,u),3===(M=document.querySelectorAll(".expenses-items")).length&&(u.style.display="none")}},{key:"addIncomeBlock",value:function(){var e=S[0].cloneNode(!0);S[0].parentNode.insertBefore(e,l),3===(S=document.querySelectorAll(".income-items")).length&&(l.style.display="none")}},{key:"getExpInc",value:function(){var e=this,t=function(t){var n=t.className.split("-")[0],o=t.querySelector(".".concat(n,"-title")).value,i=t.querySelector(".".concat(n,"-amount")).value;""!==o&&""!==i&&(e[n][o]=i)};for(var n in S.forEach(t),M.forEach(t),this.income)this.incomeMonth+=+this.income[n]}},{key:"getAddExpenses",value:function(){var e=this;p.value.split(",").forEach((function(t){""!==(t=t.trim())&&e.addExpenses.push(t)})),this.addExpenses=this.addExpenses.map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}))}},{key:"getAddIncome",value:function(){var e=this;h.forEach((function(t){""!==(t=t.value.trim())&&e.addIncome.push(t)})),this.addIncome=this.addIncome.map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}))}},{key:"getExpensesMonth",value:function(){for(var e in this.expenses)this.expensesMonth+=+this.expenses[e]}},{key:"getBudget",value:function(){this.budgetMonth=this.budget+this.incomeMonth+this.moneyDeposit*this.percentDeposit/12-this.expensesMonth,this.budgetDay=Math.floor(this.budgetMonth/30)}},{key:"getTargetMonth",value:function(){return Math.ceil(q.value/this.budgetMonth)}},{key:"getInfoDeposit",value:function(){this.deposit&&(this.percentDeposit=r.value,this.moneyDeposit=c.value)}},{key:"calcPeriod",value:function(){x.value=this.budgetMonth*A.value}},{key:"getSelectPeriod",value:function(){D.textContent=A.value,I[0].appendChild(D),D.setAttribute("style","color: #353a43")}},{key:"getReset",value:function(){this.income={},this.incomeMonth=0,this.addIncome=[],this.expenses={},this.addExpenses=[],this.deposit=!1,this.percentDeposit=0,this.moneyDeposit=0,this.budget=0,this.budgetDay=0,this.budgetMonth=0,this.expensesMonth=0,document.querySelectorAll("input").forEach((function(e){e.readOnly=!1,e.value=""})),A.value="0",D.textContent=A.value,a.disabled=!1,d.disabled=!1,d.style.display="none",c.style.display="none",r.style.display="none",L.deposit="false",a.checked=!1,l.disabled=!1,u.disabled=!1,i.style.display="block",s.style.display="none"}},{key:"eventsListeners",value:function(){i.addEventListener("click",L.start.bind(L)),s.addEventListener("click",L.getReset.bind(L)),u.addEventListener("click",L.addExpensesBlock),l.addEventListener("click",L.addIncomeBlock),A.addEventListener("change",L.getSelectPeriod),a.addEventListener("change",(function(){a.checked?(d.style.display="inline-block",c.style.display="inline-block",L.deposit="true",d.addEventListener("change",(function(){var e=this.options[this.selectedIndex].value;"other"===e?(r.disabled=!1,r.style.display="inline-block",r.value=""):(r.style.display="none",r.value=e)}))):(d.style.display="none",c.style.display="none",c.value="",L.deposit="false")}))}}])&&o(t.prototype,n),y&&o(t,y),e}());L.eventsListeners()}]);